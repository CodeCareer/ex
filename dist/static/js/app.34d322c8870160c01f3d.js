webpackJsonp([5,3],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var u=n(31),a=o(u),r=n(30),s=o(r),i=n(80),d=o(i),c=n(171),l=o(c),f=n(4),p=o(f);p.default.use(l.default),p.default.http.options.root="/internal/api/v1",p.default.http.headers.common.Authorization=window.localStorage.token||"",d.default.forEach(function(e){p.default.http.interceptors.push(e)}),(0,s.default)(p.default.resource),document.body.addEventListener("touchstart",function(){}),a.default.run(),window.onload=function(){document.getElementById("loading").style.display="none"}},30:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function u(e){t.sessions=s=e("sessions",{},{},c),t.accounts=i=e("accounts",{},{},c)}Object.defineProperty(t,"__esModule",{value:!0}),t.accounts=t.sessions=void 0,t.default=u;var a=n(4),r=o(a),s=void 0,i=void 0,d={},c={before:function(e){var t=r.default.url(e.url,e.params);d[t]&&d[t].abort(),d[t]=e}};t.sessions=s,t.accounts=i},31:function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.router=void 0;var u=n(4),a=o(u),r=n(172),s=o(r),i=n(81),d=o(i),c=n(163),l=o(c),f=n(32),p=o(f);a.default.use(s.default);var m=new s.default({mode:"history",base:e,scrollBehavior:function(e,t,n){if(n)return n},routes:d.default});m.beforeEach(function(e,t,n){void 0!==e.name&&document.body.setAttribute("class",e.name);var o=p.default.getters.user,u=p.default.getters.token;!e.meta.needLogin||u&&o.email||n({name:"login"}),n()}),m.afterEach(function(e){e.meta.title&&(document.title=e.meta.title)}),t.default={run:function(){new a.default({render:function(e){return e(l.default)},store:p.default,router:m}).$mount("#app")}},t.router=m}).call(t,"/")},32:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),a=o(u),r=n(57),s=o(r),i=n(84),d=o(i),c=n(83),l=o(c),f=n(82),p=o(f),m=!1,v={user:JSON.parse(window.localStorage.user||"{}"),token:window.localStorage.token};a.default.use(s.default),a.default.config.debug=m;var h=new s.default.Store({state:v,getters:l.default,mutations:d.default,actions:p.default});t.default=h},53:function(e,t){},54:function(e,t){},80:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(33),a=o(u),r=n(54),s=(o(r),n(53)),i=(o(s),n(50)),d=o(i),c=n(4),l=o(c),f=n(157),p=o(f),m=n(32),v=o(m),h=[];t.default=[function(e,t){var n=l.default.url(e.url,e.params);e.cache=p.default.includes(h,n.split("?")[0]),!e.params.no_cache&&sessionStorage.getItem(n)?t({status:200,ok:!0,headers:{},statusText:"OK",data:sessionStorage.getItem(n)||"{}",body:sessionStorage.getItem(n)||"{}",json:function(){return JSON.parse(sessionStorage.getItem(n)||"{}")}}):t()},function(e,t){t(function(t){if(419===t.status||401===t.status)e.params.noNeedLogin?v.default.dispatch("logout",!0):(d.default.alert(t.body.error||"无访问权限！","提示:"),v.default.dispatch("logout"));else if(403===t.status)d.default.alert(t.body.error||"您无此权限","提示");else if(500===t.status||502===t.status)d.default.alert("抱歉！服务器忙。","提示");else if(200===t.status&&e.cache){var n=l.default.url(e.url,e.params),o=p.default.isObject(t.body)?(0,a.default)(t.body):t.body;sessionStorage.setItem(n,o)}})}]},81:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{path:"/",redirect:"/ex/dashboard"},{path:"/login",name:"login",component:function(e){return n.e(0,function(t){var n=[t(166)];e.apply(null,n)}.bind(this))},meta:{title:"开通金融-交易所产品管理系统",needLogin:!1}},{path:"/ex",name:"ex",redirect:"/ex/dashboard",component:function(e){return n.e(1,function(t){var n=[t(165)];e.apply(null,n)}.bind(this))},children:[{path:"dashboard",name:"dashboard",component:function(e){return n.e(2,function(t){var n=[t(164)];e.apply(null,n)}.bind(this))},meta:{title:"开通金融-交易所产品管理系统-总览",needLogin:!0}}]},{path:"*",redirect:"/"}]},82:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(90),a=o(u),r=n(88),s=o(r),i=n(33),d=o(i),c=n(31),l=n(30),f=n(4),p=o(f);t.default={updateUser:function(e){var t=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.localStorage.user=(0,d.default)(n),t("updateUser",n)},updateToken:function(e){var t=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.localStorage.token=n,p.default.http.headers.common.Authorization=n,t("updateToken",n)},getUser:function(e){var t=this,n=(e.commit,e.dispatch);return(0,s.default)(a.default.mark(function e(){var o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.accounts.get().then(function(e){return e.json()});case 2:o=e.sent,n("updateUser",o.account);case 4:case"end":return e.stop()}},e,t)}))()},login:function(e,t){var n=this,o=(e.commit,e.dispatch);return(0,s.default)(a.default.mark(function e(){var u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.sessions.save({},t).then(function(e){return e.json()});case 2:u=e.sent,o("updateToken",u.token),o("getUser");case 5:case"end":return e.stop()}},e,n)}))()},logout:function(e,t){var n=e.commit;window.localStorage.user="{}",window.localStorage.token="",n("updateUser",{}),n("updateToken"),t||c.router.push({name:"login"})}}},83:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={user:function(e){return e.user},token:function(e){return e.token}}},84:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={updateUser:function(e,t){e.user=t},updateToken:function(e,t){e.token=t}}},155:function(e,t){},163:function(e,t,n){var o,u;n(155);var a=n(168);u=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(u=o=o.default),"function"==typeof u&&(u=u.options),u.render=a.render,u.staticRenderFns=a.staticRenderFns,e.exports=o},168:function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{staticClass:"app"},[t("router-view")])},staticRenderFns:[]}}});
//# sourceMappingURL=app.34d322c8870160c01f3d.js.map