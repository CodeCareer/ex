{"version":3,"sources":["webpack:///static/js/app.34d322c8870160c01f3d.js","webpack:///./src/main.js","webpack:///./src/common/resources.js","webpack:///./src/router.js","webpack:///./src/vuex/store.js","webpack:///./src/common/interceptors.js","webpack:///./src/routes/index.js","webpack:///./src/vuex/actions.js","webpack:///./src/vuex/getters.js","webpack:///./src/vuex/mutations.js","webpack:///./src/App.vue","webpack:///./src/App.vue?8835"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_router","_router2","_resources","_resources2","_interceptors","_interceptors2","_vueResource","_vueResource2","_vue","_vue2","use","http","options","root","headers","common","window","localStorage","token","forEach","v","interceptors","push","resource","document","body","addEventListener","run","onload","getElementById","style","display","30","setResources","sessions","commonOpts","accounts","Object","defineProperty","value","undefined","previousRequestMap","before","request","key","url","params","abort","31","__dirname","router","_vueRouter","_vueRouter2","_routes","_routes2","_App","_App2","_store","_store2","mode","base","scrollBehavior","to","from","savedPosition","routes","beforeEach","next","name","setAttribute","user","getters","meta","needLogin","email","afterEach","title","render","h","store","$mount","call","32","_vuex","_vuex2","_mutations","_mutations2","_getters","_getters2","_actions","_actions2","debug","state","JSON","parse","config","Store","mutations","actions","53","54","80","_stringify","_stringify2","_messageBox","_base","_messageBox3","_messageBox4","_lodash","_lodash2","CACHE_URLS","cache","includes","split","no_cache","sessionStorage","getItem","status","ok","statusText","data","json","res","noNeedLogin","dispatch","alert","error","isObject","setItem","81","path","redirect","component","resolve","e","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","this","children","82","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","updateUser","_ref","commit","arguments","length","updateToken","_ref2","getUser","_ref3","_this","mark","_callee","wrap","_context","prev","get","then","sent","account","stop","login","_ref4","_this2","_callee2","_context2","save","logout","_ref5","silent","83","84","155","163","__vue_exports__","__vue_options__","__vue_template__","staticRenderFns","168","_vm","_c","$createElement","staticClass"],"mappings":"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","file":"static/js/app.34d322c8870160c01f3d.js","sourcesContent":["webpackJsonp([5,3],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _router = __webpack_require__(31);\n\t\n\tvar _router2 = _interopRequireDefault(_router);\n\t\n\tvar _resources = __webpack_require__(30);\n\t\n\tvar _resources2 = _interopRequireDefault(_resources);\n\t\n\tvar _interceptors = __webpack_require__(80);\n\t\n\tvar _interceptors2 = _interopRequireDefault(_interceptors);\n\t\n\tvar _vueResource = __webpack_require__(171);\n\t\n\tvar _vueResource2 = _interopRequireDefault(_vueResource);\n\t\n\tvar _vue = __webpack_require__(4);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vueResource2.default);\n\t\n\t_vue2.default.http.options.root = '/internal/api/v1';\n\t_vue2.default.http.headers.common['Authorization'] = window.localStorage.token || '';\n\t\n\t_interceptors2.default.forEach(function (v) {\n\t  _vue2.default.http.interceptors.push(v);\n\t});\n\t\n\t(0, _resources2.default)(_vue2.default.resource);\n\t\n\tdocument.body.addEventListener('touchstart', function () {});\n\t\n\t_router2.default.run();\n\t\n\twindow.onload = function () {\n\t  document.getElementById('loading').style.display = 'none';\n\t};\n\n/***/ },\n\n/***/ 30:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.accounts = exports.sessions = undefined;\n\texports.default = setResources;\n\t\n\tvar _vue = __webpack_require__(4);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar sessions = void 0,\n\t    accounts = void 0;\n\t\n\tvar previousRequestMap = {};\n\tvar commonOpts = {\n\t  before: function before(request) {\n\t    var key = _vue2.default.url(request.url, request.params);\n\t\n\t    if (previousRequestMap[key]) {\n\t      previousRequestMap[key].abort();\n\t    }\n\t\n\t    previousRequestMap[key] = request;\n\t  }\n\t};\n\t\n\tfunction setResources(resource) {\n\t  exports.sessions = sessions = resource('sessions', {}, {}, commonOpts);\n\t  exports.accounts = accounts = resource('accounts', {}, {}, commonOpts);\n\t}\n\t\n\texports.sessions = sessions;\n\texports.accounts = accounts;\n\n/***/ },\n\n/***/ 31:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(__dirname) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.router = undefined;\n\t\n\tvar _vue = __webpack_require__(4);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vueRouter = __webpack_require__(172);\n\t\n\tvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\t\n\tvar _routes = __webpack_require__(81);\n\t\n\tvar _routes2 = _interopRequireDefault(_routes);\n\t\n\tvar _App = __webpack_require__(163);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _store = __webpack_require__(32);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vueRouter2.default);\n\t\n\tvar router = new _vueRouter2.default({\n\t  mode: 'history',\n\t  base: __dirname,\n\t  scrollBehavior: function scrollBehavior(to, from, savedPosition) {\n\t    if (savedPosition) {\n\t      return savedPosition;\n\t    }\n\t  },\n\t\n\t  routes: _routes2.default\n\t});\n\t\n\trouter.beforeEach(function (to, from, next) {\n\t  if (to.name !== undefined) {\n\t    document.body.setAttribute('class', to.name);\n\t  }\n\t\n\t  var user = _store2.default.getters.user;\n\t  var token = _store2.default.getters.token;\n\t  if (to.meta.needLogin && (!token || !user.email)) {\n\t    next({ name: 'login' });\n\t  }\n\t  next();\n\t});\n\t\n\trouter.afterEach(function (to) {\n\t  if (to.meta.title) {\n\t    document.title = to.meta.title;\n\t  }\n\t});\n\t\n\texports.default = {\n\t  run: function run() {\n\t    new _vue2.default({\n\t      render: function render(h) {\n\t        return h(_App2.default);\n\t      },\n\t\n\t      store: _store2.default,\n\t      router: router\n\t    }).$mount('#app');\n\t  }\n\t};\n\texports.router = router;\n\t/* WEBPACK VAR INJECTION */}.call(exports, \"/\"))\n\n/***/ },\n\n/***/ 32:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(4);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vuex = __webpack_require__(57);\n\t\n\tvar _vuex2 = _interopRequireDefault(_vuex);\n\t\n\tvar _mutations = __webpack_require__(84);\n\t\n\tvar _mutations2 = _interopRequireDefault(_mutations);\n\t\n\tvar _getters = __webpack_require__(83);\n\t\n\tvar _getters2 = _interopRequireDefault(_getters);\n\t\n\tvar _actions = __webpack_require__(82);\n\t\n\tvar _actions2 = _interopRequireDefault(_actions);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar debug = (\"production\") !== 'production';\n\tvar state = {\n\t  user: JSON.parse(window.localStorage.user || '{}'),\n\t  token: window.localStorage.token\n\t};\n\t\n\t_vue2.default.use(_vuex2.default);\n\t_vue2.default.config.debug = debug;\n\t\n\tvar store = new _vuex2.default.Store({\n\t  state: state,\n\t  getters: _getters2.default,\n\t  mutations: _mutations2.default,\n\t  actions: _actions2.default\n\t});\n\t\n\texports.default = store;\n\n/***/ },\n\n/***/ 53:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 54:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 80:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(33);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _messageBox = __webpack_require__(54);\n\t\n\tvar _messageBox2 = _interopRequireDefault(_messageBox);\n\t\n\tvar _base = __webpack_require__(53);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _messageBox3 = __webpack_require__(50);\n\t\n\tvar _messageBox4 = _interopRequireDefault(_messageBox3);\n\t\n\tvar _vue = __webpack_require__(4);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _lodash = __webpack_require__(157);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _store = __webpack_require__(32);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar CACHE_URLS = [];\n\t\n\texports.default = [function (request, next) {\n\t  var key = _vue2.default.url(request.url, request.params);\n\t  request.cache = _lodash2.default.includes(CACHE_URLS, key.split('?')[0]);\n\t\n\t  if (!request.params.no_cache && sessionStorage.getItem(key)) {\n\t    next({\n\t      status: 200,\n\t      ok: true,\n\t      headers: {},\n\t      statusText: 'OK',\n\t      data: sessionStorage.getItem(key) || '{}',\n\t      body: sessionStorage.getItem(key) || '{}',\n\t      json: function json() {\n\t        return JSON.parse(sessionStorage.getItem(key) || '{}');\n\t      }\n\t    });\n\t  } else {\n\t    next();\n\t  }\n\t}, function (request, next) {\n\t  next(function (res) {\n\t    if (res.status === 419 || res.status === 401) {\n\t      if (request.params.noNeedLogin) {\n\t        _store2.default.dispatch('logout', true);\n\t      } else {\n\t        _messageBox4.default.alert(res.body.error || '无访问权限！', '提示:');\n\t        _store2.default.dispatch('logout');\n\t      }\n\t    } else if (res.status === 403) {\n\t      _messageBox4.default.alert(res.body.error || '您无此权限', '提示');\n\t    } else if (res.status === 500 || res.status === 502) {\n\t      _messageBox4.default.alert('抱歉！服务器忙。', '提示');\n\t    } else if (res.status === 200) {\n\t      if (request.cache) {\n\t        var key = _vue2.default.url(request.url, request.params);\n\t        var body = _lodash2.default.isObject(res.body) ? (0, _stringify2.default)(res.body) : res.body;\n\t        sessionStorage.setItem(key, body);\n\t      }\n\t    }\n\t  });\n\t}];\n\n/***/ },\n\n/***/ 81:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = [{\n\t  path: '/',\n\t  redirect: '/ex/dashboard'\n\t}, {\n\t  path: '/login',\n\t  name: 'login',\n\t  component: function component(resolve) {\n\t    return __webpack_require__.e/* require */(0, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(166)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t  },\n\t  meta: { title: '开通金融-交易所产品管理系统', needLogin: false }\n\t}, {\n\t  path: '/ex',\n\t  name: 'ex',\n\t  redirect: '/ex/dashboard',\n\t  component: function component(resolve) {\n\t    return __webpack_require__.e/* require */(1, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(165)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t  },\n\t  children: [{\n\t    path: 'dashboard',\n\t    name: 'dashboard',\n\t    component: function component(resolve) {\n\t      return __webpack_require__.e/* require */(2, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(164)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t    },\n\t    meta: {\n\t      title: '开通金融-交易所产品管理系统-总览',\n\t      needLogin: true\n\t    }\n\t  }]\n\t}, {\n\t  path: '*',\n\t  redirect: '/'\n\t}];\n\n/***/ },\n\n/***/ 82:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _regenerator = __webpack_require__(90);\n\t\n\tvar _regenerator2 = _interopRequireDefault(_regenerator);\n\t\n\tvar _asyncToGenerator2 = __webpack_require__(88);\n\t\n\tvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\t\n\tvar _stringify = __webpack_require__(33);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _router = __webpack_require__(31);\n\t\n\tvar _resources = __webpack_require__(30);\n\t\n\tvar _vue = __webpack_require__(4);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  updateUser: function updateUser(_ref) {\n\t    var commit = _ref.commit;\n\t    var user = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    window.localStorage.user = (0, _stringify2.default)(user);\n\t    commit('updateUser', user);\n\t  },\n\t\n\t  updateToken: function updateToken(_ref2) {\n\t    var commit = _ref2.commit;\n\t    var token = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t\n\t    window.localStorage.token = token;\n\t    _vue2.default.http.headers.common['Authorization'] = token;\n\t    commit('updateToken', token);\n\t  },\n\t  getUser: function getUser(_ref3) {\n\t    var _this = this;\n\t\n\t    var commit = _ref3.commit,\n\t        dispatch = _ref3.dispatch;\n\t    return (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n\t      var data;\n\t      return _regenerator2.default.wrap(function _callee$(_context) {\n\t        while (1) {\n\t          switch (_context.prev = _context.next) {\n\t            case 0:\n\t              _context.next = 2;\n\t              return _resources.accounts.get().then(function (res) {\n\t                return res.json();\n\t              });\n\t\n\t            case 2:\n\t              data = _context.sent;\n\t\n\t              dispatch('updateUser', data.account);\n\t\n\t            case 4:\n\t            case 'end':\n\t              return _context.stop();\n\t          }\n\t        }\n\t      }, _callee, _this);\n\t    }))();\n\t  },\n\t  login: function login(_ref4, user) {\n\t    var _this2 = this;\n\t\n\t    var commit = _ref4.commit,\n\t        dispatch = _ref4.dispatch;\n\t    return (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2() {\n\t      var data;\n\t      return _regenerator2.default.wrap(function _callee2$(_context2) {\n\t        while (1) {\n\t          switch (_context2.prev = _context2.next) {\n\t            case 0:\n\t              _context2.next = 2;\n\t              return _resources.sessions.save({}, user).then(function (res) {\n\t                return res.json();\n\t              });\n\t\n\t            case 2:\n\t              data = _context2.sent;\n\t\n\t              dispatch('updateToken', data.token);\n\t              dispatch('getUser');\n\t\n\t            case 5:\n\t            case 'end':\n\t              return _context2.stop();\n\t          }\n\t        }\n\t      }, _callee2, _this2);\n\t    }))();\n\t  },\n\t  logout: function logout(_ref5, silent) {\n\t    var commit = _ref5.commit;\n\t\n\t    window.localStorage.user = '{}';\n\t    window.localStorage.token = '';\n\t    commit('updateUser', {});\n\t    commit('updateToken');\n\t\n\t    if (silent) return;\n\t\n\t    _router.router.push({\n\t      name: 'login'\n\t    });\n\t  }\n\t};\n\n/***/ },\n\n/***/ 83:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  user: function user(state) {\n\t    return state.user;\n\t  },\n\t\n\t  token: function token(state) {\n\t    return state.token;\n\t  }\n\t};\n\n/***/ },\n\n/***/ 84:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  updateUser: function updateUser(state, user) {\n\t    state.user = user;\n\t  },\n\t\n\t  updateToken: function updateToken(state, token) {\n\t    state.token = token;\n\t  }\n\t};\n\n/***/ },\n\n/***/ 155:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 163:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(155)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(168)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 168:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._c;\n\t  return _c('div', {\n\t    staticClass: \"app\"\n\t  }, [_c('router-view')])\n\t},staticRenderFns: []}\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/app.34d322c8870160c01f3d.js","import router from './router'\nimport setResources from './common/resources'\nimport interceptors from './common/interceptors'\nimport VueResource from 'vue-resource'\nimport Vue from 'vue'\n\nVue.use(VueResource)\n\n// http初始化\nVue.http.options.root = '/internal/api/v1'\nVue.http.headers.common['Authorization'] = window.localStorage.token || ''\n\n// 拦截器统一注入\ninterceptors.forEach((v) => {\n  Vue.http.interceptors.push(v)\n})\n\n// 统一管理resource\nsetResources(Vue.resource)\n\n// 激活ios设备上面css的active效果\ndocument.body.addEventListener('touchstart', () => {})\n\n// 启动路由\nrouter.run()\n\n// 隐藏加载等待元素\nwindow.onload = function() {\n  document.getElementById('loading').style.display = 'none'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Vue from 'vue'\n\nlet sessions, accounts\n\nlet previousRequestMap = {}\nlet commonOpts = {\n  before(request) {\n    let key = Vue.url(request.url, request.params)\n\n    if (previousRequestMap[key]) {\n      previousRequestMap[key].abort()\n    }\n\n    previousRequestMap[key] = request\n  }\n}\n\nexport default function setResources(resource) {\n  sessions = resource('sessions', {}, {}, commonOpts) // 新闻\n  accounts = resource('accounts', {}, {}, commonOpts) // 新闻\n}\n\nexport { sessions, accounts }\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/resources.js","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport routes from './routes'\nimport App from './App.vue'\nimport store from './vuex/store.js'\nVue.use(VueRouter)\n\nlet router = new VueRouter({\n  mode: 'history',\n  base: __dirname,\n  scrollBehavior(to, from, savedPosition) {\n    if (savedPosition) {\n      return savedPosition\n    }\n  },\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  if (to.name !== undefined) {\n    document.body.setAttribute('class', to.name)\n  }\n\n  let user = store.getters.user\n  let token = store.getters.token\n  if (to.meta.needLogin && (!token || !user.email)) {\n    next({ name: 'login' })\n  }\n  next()\n})\n\nrouter.afterEach((to) => {\n  if (to.meta.title) {\n    document.title = to.meta.title\n  }\n})\n\nexport default {\n  run() {\n    new Vue({\n      render(h) {\n        return h(App)\n      },\n      store,\n      router\n    }).$mount('#app')\n  }\n}\n\nexport { router }\n\n\n\n// WEBPACK FOOTER //\n// ./src/router.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport mutations from './mutations'\nimport getters from './getters'\nimport actions from './actions'\n\nconst debug = process.env.NODE_ENV !== 'production'\nconst state = {\n  user: JSON.parse(window.localStorage.user || '{}'),\n  token: window.localStorage.token\n}\n\nVue.use(Vuex)\nVue.config.debug = debug\n\nconst store = new Vuex.Store({\n  state,\n  getters,\n  mutations,\n  actions\n})\n\nexport default store\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/store.js","import Vue from 'vue'\nimport _ from 'lodash'\nimport { MessageBox } from 'element-ui'\nimport store from '../vuex/store.js'\n\nconst CACHE_URLS = []\n\nexport default [\n  function(request, next) {\n    let key = Vue.url(request.url, request.params)\n    request.cache = _.includes(CACHE_URLS, key.split('?')[0])\n\n    if (!request.params.no_cache && sessionStorage.getItem(key)) {\n      next({\n        status: 200,\n        ok: true,\n        headers: {},\n        statusText: 'OK',\n        data: sessionStorage.getItem(key) || '{}',\n        body: sessionStorage.getItem(key) || '{}',\n        json() {\n          return JSON.parse(sessionStorage.getItem(key) || '{}')\n        }\n      })\n    } else {\n      next()\n    }\n  },\n  function(request, next) {\n    next((res) => {\n      if (res.status === 419 || res.status === 401) {\n        if (request.params.noNeedLogin) {\n          store.dispatch('logout', true)\n        } else {\n          MessageBox.alert(res.body.error || '无访问权限！', '提示:')\n          store.dispatch('logout')\n        }\n      } else if (res.status === 403) {\n        MessageBox.alert(res.body.error || '您无此权限', '提示')\n      } else if (res.status === 500 || res.status === 502) { // 注释掉是为了接部分接口\n        MessageBox.alert('抱歉！服务器忙。', '提示')\n      } else if (res.status === 200) {\n        if (request.cache) {\n          let key = Vue.url(request.url, request.params)\n          let body = _.isObject(res.body) ? JSON.stringify(res.body) : res.body\n          sessionStorage.setItem(key, body)\n        }\n      }\n    })\n  }\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/interceptors.js","export default [{\n  path: '/',\n  redirect: '/ex/dashboard'\n}, {\n  path: '/login',\n  name: 'login',\n  component: resolve => require(['../views/login.vue'], resolve),\n  meta: { title: '开通金融-交易所产品管理系统', needLogin: false }\n}, {\n  path: '/ex',\n  name: 'ex',\n  redirect: '/ex/dashboard',\n  component: resolve => require(['../views/ex_layout.vue'], resolve),\n  children: [{\n    path: 'dashboard',\n    name: 'dashboard',\n    component: resolve => require(['../views/ex/dashboard.vue'], resolve),\n    meta: {\n      title: '开通金融-交易所产品管理系统-总览',\n      needLogin: true\n    }\n  }]\n}, {\n  path: '*',\n  redirect: '/'\n}]\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/index.js","import { router } from '../router.js'\nimport { sessions, accounts } from '../common/resources.js'\nimport Vue from 'vue'\n\nexport default {\n  updateUser: function({ commit }, user = {}) {\n    window.localStorage.user = JSON.stringify(user)\n    commit('updateUser', user)\n  },\n\n  updateToken({ commit }, token = '') {\n    window.localStorage.token = token\n    Vue.http.headers.common['Authorization'] = token\n    commit('updateToken', token)\n  },\n\n  async getUser({ commit, dispatch }) {\n    let data = await accounts.get().then(res => res.json())\n    dispatch('updateUser', data.account)\n  },\n\n  async login({ commit, dispatch }, user) {\n    let data = await sessions.save({}, user).then(res => res.json())\n    dispatch('updateToken', data.token)\n    dispatch('getUser')\n  },\n\n  logout({ commit }, silent) {\n    window.localStorage.user = '{}'\n    window.localStorage.token = ''\n    commit('updateUser', {})\n    commit('updateToken')\n\n    if (silent) return\n\n    router.push({\n      name: 'login'\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/actions.js","export default {\n  user: function(state) {\n    return state.user\n  },\n\n  token(state) {\n    return state.token\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/getters.js","export default {\n  updateUser: function(state, user) {\n    state.user = user\n  },\n\n  updateToken(state, token) {\n    state.token = token\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/mutations.js","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?-autoprefixer&sourceMap!vue-loader/lib/style-rewriter?id=data-v-56799f61!sass-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-56799f61!vue-loader/lib/template-loader?raw&engine=pug!vue-loader/lib/selector?type=template&index=0!./App.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 163\n// module chunks = 5","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._c;\n  return _c('div', {\n    staticClass: \"app\"\n  }, [_c('router-view')])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-56799f61!./~/vue-loader/lib/template-loader.js?raw&engine=pug!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 168\n// module chunks = 5"],"sourceRoot":""}